articulos_validos = [
    "APIO", "ACELGA", "AJO", "AJO GRANDE", "AJI AMARILLO", "AJI JALAPEÑO", "ALBAHACA", "ANCO BATATA",
    "BROTES VARIOS", "BOÑATO", "BATATA", "BERENJENA", "BERRO", "BROCCOLI LIMPIO", "BROCOLI LIMPIO", "BROCOLI CON HOJAS", "BROCCOLI CON TA/HOJAS",
    "CABUTIE", "CAPUCHINA", "CEBOLLA ROJA", "CEBOLLON", "CEBOLLA", "C. DE VERDEO", "CEBOLLA DE VERDEO",
    "CIBOULETTE", "CILANTRO", "COLIFLOR", "CHAMPIÑON", "CHAUCHA", "CHOCLO", "CEDRON", "ENELDO", "ESPINACA",
    "FLORES", "HINOJO", "HUACATAY", "JENGIBRE", "KALE", "LECHUGA", "LECHUGA FRANCESA", "LECHUGA MANTECOSA",
    "LOCOTO", "MANDIOCA", "MENTA", "MORADA", "MORRON VER", "MORRON AMARIL", "MORRON ROJO", "OREGANO",
    "PAPON X BOLSA", "PAPA LAVADA", "PAPA BLANCA/ NEGRA", "PAPA BLANCA", "PAPA NEGRA", "PAPIN", "PEPINO",
    "PEREJIL", "PEREJIL CRESPO", "PORTOBELLO", "PUERRO", "RABANITO", "REMOLACHA LIMPIA", "ROMERO", "RUCULA",
    "REPOLLO BCO", "REPOLLO ROJO", "TOMATE", "T. CHERRY", "T.PERITA", "TOMILLO", "ZANAHORIA", "ZANAHORIA INDUS",
    "ZAPALLITO", "ZUCHINI", "ARANDANO", "BANANA ECU", "BANANA ECUADOR", "BANANA BOLI", "CIRUELA", "FRUTILLA TAMARA", "DURAZNO",
    "GIRGOLAS", "KIWI IMP GDE", "KIWI", "LIMON", "LIMA BRAZIL", "MANDARINA", "MANZANA RED", "MANZANA RED  TOP",
    "MANZANA GRANY", "MELON AMARILLO", "MANGO UNI", "NARANJA JUGO", "NARANJA OMBLIGO", "PERA CAJA", "PIÑA",
    "PALTA HASS", "PALTA HASS", "POMELO ROJO", "POMELO", "SANDIA", "SOJA BOLSA", "SOJA", "SALVIA", "UVA NEGRA S/SEMILLA",
    "UVA BLANCA S/SEMILLA", "HUEVO BCO", "HUEVO", "CARBON", "CONGELADOS", "FRUTILLA CONGELADA",
    "FRUTOS ROJOS CONG", "MARACUYA CONGELA", "ARANDANO CONGEL"
]

def procesar(texto_ocr):
    prompt = f"""
Tu rol es actuar como un operador de Data Entry para una empresa gastronómica. Vas a estructurar facturas como una tabla con las siguientes columnas:
Fecha, Producto, Cantidad, Total, Local, Proveedor
Local: El local está escrito debajo del logo del proveedor.
Proveedor: Siempre será "Verduleria Raices"
⚠️ Cada línea debe tener exactamente 7 columnas, separadas por coma.
⚠️ No incluyas comentarios ni líneas fuera del formato CSV. Ignorá remitos, totales, descuentos y notas al pie.
Las cantidades y subtotal está siempre a la derecha de la descripción del producto. Subtotal es muy importante que entiendas que está al final de la línea de cada producto. No puedes equivocarte en ningún campo, menos en este!
Ignorar los numeros que están antes del producto o descripción. (Son códigos del proveedor que no nos interesan.)
Por ej: Albahaca ....... PAQUETE...     (cantidad)6.00  (precio)500.00   (subtotal)3000.00 
Especifica si el producto es por Paquete o por Kilo/s
**Formato CSV válido:**  
   - IMPORTANTE: los campos deben estar entre comillas dobles (`"`).  por ej "Lechuga", "0,5", "100", "50"
   - Separá los campos con comas.  
   - Una línea por producto.  
   - Si la fecha aparece una vez, repetila en todas las filas. (La fecha siempre se encuentra en la parte superior a la derecha, generalmente en formato xx/xx/xxxx)
   - **No uses separadores de miles.**

   
Importante: Tenes totalmente prohibido inventar numeros, precios, lo que fuera. Solo eres un proceso de estructuracion del texto del OCR.
Respeta el OCR, solo tenes permitido encontrar similitudes con los productos proporcionados. Del resto, respeta absolutamente todo.
Examina con detenimiento similitudes de letras. No pongas cualquier cosa.

Texto OCR:
\"\"\"{texto_ocr}\"\"\"
"""
